{"version":3,"sources":["../../server/src/services/pgaService.js"],"names":["isNil","require","resultsApi","rosterApi","season","moment","getGolfers","request","response","params","getSeason","getRoster","golfers","send","getGolfer","playerId","key","golfer","getSchedule","getSchedules","schedule","module","exports"],"mappings":";;;;;;;;;;;;AAAA,IAAMA,QAAQC,QAAQ,cAAR,CAAd;AACA,IAAMC,aAAaD,QAAQ,kBAAR,CAAnB;AACA,IAAME,YAAYF,QAAQ,iBAAR,CAAlB;AACA,IAAMG,SAASH,QAAQ,iBAAR,CAAf;AACA,IAAMI,SAASJ,QAAQ,QAAR,CAAf;;AAEA,IAAMK;AAAA,sFAAa,iBAAOC,OAAP,EAAgBC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AACXJ,kBADW,GACFJ,MAAMO,QAAQE,MAAR,CAAeL,MAArB,IACbA,OAAOM,SAAP,CAAiBL,QAAjB,CADa,GAEbE,QAAQE,MAAR,CAAeL,MAHA;AAAA;AAAA,mBAKKF,WAAWS,SAAX,CAAqBP,MAArB,CALL;;AAAA;AAKXQ,mBALW;;;AAOjBJ,qBAASK,IAAT,CAAcD,OAAd;;AAPiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAb;;AAAA;AAAA;AAAA;AAAA,GAAN;;AAUA,IAAME;AAAA,uFAAY,kBAAOP,OAAP,EAAgBC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AACVO,oBADU,GACCR,QAAQE,MAAR,CAAeO,GADhB;AAAA;AAAA,mBAEKb,UAAUW,SAAV,CAAoBC,QAApB,CAFL;;AAAA;AAEVE,kBAFU;;;AAIhBT,qBAASK,IAAT,CAAcI,MAAd;;AAJgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAZ;;AAAA;AAAA;AAAA;AAAA,GAAN;;AAOA,IAAMC;AAAA,uFAAc,kBAAOX,OAAP,EAAgBC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AACZJ,kBADY,GACHJ,MAAMO,QAAQE,MAAR,CAAeL,MAArB,IACbA,OAAOM,SAAP,CAAiBL,QAAjB,CADa,GAEbE,QAAQE,MAAR,CAAeL,MAHC;AAAA;AAAA,mBAKKF,WAAWiB,YAAX,CAAwBf,MAAxB,CALL;;AAAA;AAKZgB,oBALY;;;AAOlBZ,qBAASK,IAAT,CAAcO,QAAd;;AAPkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAd;;AAAA;AAAA;AAAA;AAAA,GAAN;;AAUAC,OAAOC,OAAP,GAAiB;AACfhB,wBADe;AAEfQ,sBAFe;AAGfI;AAHe,CAAjB","file":"pgaService.js","sourcesContent":["const isNil = require('lodash/isNil');\nconst resultsApi = require('../db/resultsApi');\nconst rosterApi = require('../db/rosterApi');\nconst season = require('../utils/season');\nconst moment = require('moment');\n\nconst getGolfers = async (request, response) => {\n  const season = isNil(request.params.season) ?\n    season.getSeason(moment()) :\n    request.params.season;\n\n  const golfers = await resultsApi.getRoster(season);\n\n  response.send(golfers);\n};\n\nconst getGolfer = async (request, response) => {\n  const playerId = request.params.key;\n  const golfer = await rosterApi.getGolfer(playerId);\n\n  response.send(golfer);\n};\n\nconst getSchedule = async (request, response) => {\n  const season = isNil(request.params.season) ?\n    season.getSeason(moment()) :\n    request.params.season;\n\n  const schedule = await resultsApi.getSchedules(season);\n\n  response.send(schedule);\n};\n\nmodule.exports = {\n  getGolfers,\n  getGolfer,\n  getSchedule\n};\n"]}