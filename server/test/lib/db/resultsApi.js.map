{"version":3,"sources":["../../../src/db/resultsApi.js"],"names":["isNil","require","conn","saveTourSchedule","yearObj","schedule","getSchedules","Promise","resolve","reject","db","then","coll","collection","find","toArray","err","results","module","exports"],"mappings":";;AAAA,IAAMA,QAAQC,QAAQ,cAAR,CAAd;AACA,IAAMC,OAAOD,QAAQ,cAAR,CAAb;;AAEA,IAAME,mBAAmB,SAAnBA,gBAAmB,CAACC,OAAD,EAAUC,QAAV,EAAuB,CAE/C,CAFD;;AAIA,IAAMC,eAAe,SAAfA,YAAe,GAAM;;AAEzB,SAAO,IAAIC,OAAJ,CAAa,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvCP,SAAKQ,EAAL,CAAQC,IAAR,CAAc,UAACD,EAAD,EAAQ;AACpB,UAAME,OAAOF,GAAGG,UAAH,CAAc,WAAd,CAAb;;AAEAD,WAAKE,IAAL,CAAU,EAAV,EAAcC,OAAd,CAAsB,UAACC,GAAD,EAAMC,OAAN,EAAkB;;AAEtC,YAAI,CAACjB,MAAMgB,GAAN,CAAL,EAAiB;AACfP,iBAAOO,GAAP;AACD;;AAEDR,gBAAQS,OAAR;AACD,OAPD;AAQD,KAXD;AAYD,GAbM,CAAP;AAcD,CAhBD;;AAkBAC,OAAOC,OAAP,GAAiB;AACfhB,oCADe;AAEfG;AAFe,CAAjB","file":"resultsApi.js","sourcesContent":["const isNil = require('lodash/isNil');\nconst conn = require('./connection');\n\nconst saveTourSchedule = (yearObj, schedule) => {\n\n};\n\nconst getSchedules = () => {\n\n  return new Promise( (resolve, reject) => {\n    conn.db.then( (db) => {\n      const coll = db.collection('schedules');\n\n      coll.find({}).toArray((err, results) => {\n\n        if (!isNil(err)) {\n          reject(err);\n        }\n\n        resolve(results);\n      });\n    });\n  });\n};\n\nmodule.exports = {\n  saveTourSchedule,\n  getSchedules\n};\n"]}